<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:v="urn:schemas-microsoft-com:vml">
  
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/>
    <meta http-equiv="Pragma" content="no-cache"/>    
    <meta name="keywords" 
	  content="bicycle, bike, bicycle trip planner, bicycle route finder, bike trip planner, bike route finder, bicycle route, bicycle trip, bike route, bike trip, bicycle routing, bike routing, maps, bicycle maps, bike maps, bicycle advocacy, community, sustainability, portland, oregon, milwaukee, wisconsin"/>
    <meta name="description" 
	  content="byCycle Bicycle Trip Planner -- A web-based, interactive, bicycle trip planner (route finder) for the Portland, Oregon, Milwaukee, Wisconsin, and, soon, other regions."/>
    
    <title>byCycle - Bicycle Trip Planner</title>

    <link rel="stylesheet" href="static/css/base.css" type="text/css"/>
    <!--[if IE]>
      <link rel="stylesheet" href="static/css/base_ie.css" type="text/css"/>
    <![endif]-->
    
    <script type="text/javascript" src="static/js/util.js"></script>
    <script type="text/javascript">
      //<![CDATA[
      var address_tip = 'You can type in an address or intersection -OR- choose a point from the map. Please note that you can\'t enter businesses or other points of interest at this time, only addresses. <br/><br/>To pick a point from the map, first zoom in and center the map on the point you want, then click the red dot and choose the link "Find address of closest intersection."<br/><br/>The easiest way to center the map is to double click it. The point you double-click will move to the center.';
      
      var route_address_tip = 'For each of your "from" and "to" addresses you can type in an address or intersection -OR- choose a point from the map. Please note that you can"t enter businesses or other points of interest at this time, only addresses.<br/><br/>To pick a point from the map, first zoom in and center the map on the point you want, then click the red dot and choose the "From" or "To" link in "Set as From or To address for route."<br/><br/>The easiest way to center the map is to double click it. The point you double-click will move to the center.';
      
      var tips_state = 1;
      function toggleTips(forced_state) {
        if (typeof(forced_state) != 'undefined') {
	  tips_state = forced_state;
        }
	if (tips_state) { 
	  el('tips').style.display = 'none'; 
	  el('tips_toggle_button').innerHTML = 'Show';
	  tips_state = 0; 
        } else { 
	  el('tips').style.display = 'block'; 
	  tips_state = 1; 
	  el('tips_toggle_button').innerHTML = 'Hide';
	}
	resizeDisplay();
      }
      //]]>
    </script>
  </head>
  
  <body onresize="resizeMap();" onunload="if (map) GUnload();">


    <div id="content_pane">


      <!-- Header -->
      <div id="header" class="page_section">
	<table>
	  <tbody>
	    <tr>

	      <td>

		<!-- Logo -->
		<div id="logo">
		  <a href="http://bycycle.org/" title="byCycle Home Page">byCycle</a> <a href="/">Bicycle Trip Planner</a> <small>[<a href="http://en.wikipedia.org/wiki/Development_stage#Beta">beta</a>]</small>
		</div>
		<!-- End Logo -->

	      </td>

	      <td>

		
		<!-- Links -->
		<div id="links">
		  <a href="http://bycycle.org/"
		     title="byCycle.org Home Page"
		     >byCycle.org</a>
		  
		  &middot;
		  
		  <a href="http://bycycle.org/tripplanner"
		     title="Get more information about the bicycle Trip Planner"
		     >About</a>
		  
		  &middot;
		  
		  <a href="http://byCycle.org/blog/category/trip-planner/"
		     title="Trip Planner Blog &amp; News"
		     >Blog</a>

		  &middot;
		  
		  <a href="http://groups.google.com/group/byCycle"
		     title="Use instead of feedback to make public comments, questions, and suggestions"
		     >Discuss</a>

		  &middot;

		  <a href="http://bycycle.org/contact.html" 
		     title="Send us problem reports, comments, questions, and suggestions"
		     >Feedback</a>

		  &middot;
		  
		  <a href="http://bycycle.org/tripplanner/help.html" 
		     title="Get help on using the bicycle Trip Planner (and some technical info)"
		     >Help</a>

		  &middot;
		  
		  <a href="http://bycycle.org/tripplanner/linkhere.html" 
		     title="Link your site to this page"
		     >Link Here</a>

		  &middot;
		  
		  <a href="http://bycycle.org/support.html" 
		     title="Get involved, buy a shirt, donate, ..."
		     >Support byCycle</a>

		  &middot;
		  
		  <a href="http://trac.bycycle.org/tripplanner/" 
		     title="Information for Developers (Trac)"
		     >Developers</a>		     
		</div>
		<!-- End Links -->


	      </td>
	    </tr>
	  </tbody>
	</table>
      </div>
      <!-- End Header -->


      <!-- Content -->
      <div id="content" class="page_section">
	<table id="content_table">
	  <tbody>
	    <tr>
	      

	      <td id="left_panel">


		<!-- Input -->
		<div id="input">
		  
		  
		  <!-- Input Tips -->
		  <div class="input_title">
		    Tips 
		    <small>
		      <a id="tips_toggle_button"
			 href="javascript:void(0)" 
			 onclick="toggleTips(); return false;"
			 style="font-weight: normal;"
			 title="Toggle display of tips"
			 >Hide</a>
		    </small>
		  </div>
		  <div id="tips">
		    <ul>
		      <li>Select a region first (top left of map).</li>
		      <li>To save typing and increase the likelihood of addresses being found, don't enter the city, state, or zip code.</li>
		      <li>For the same reason, don't type in the street type (St, Ave, etc).</li>
		      <li>For number streets, use 1st, 2nd, etc, not First, Second, etc.</li>
		      <li>If the system still has trouble finding an address, enter an address by <a href="javascript:void(0);" onclick="setResult(address_tip); toggleTips();" title="Tell me how">picking it from the map</a>.</li>
		      <li>If you find a problem, please (pretty please!) <a href="http://bycycle.org/contact.html" title="Contact us with any problems or suggestions">let us know</a>.</li>
		    </ul>
		  </div>
		  <!-- End Input Tips -->
		  
		  
		  <!-- Geocode Form -->
		  <form id="geocode_form" class="input_form"
			action="." 
			method="get" 
			onsubmit="doFind('geocode'); return false;">
		    
		    <div class="input_title">Find an Address</div>
		    
		    <div>
		      <small>Enter address -OR- pick from map</small>
		      <a href="javascript:void(0);" onclick="setResult(address_tip); toggleTips(1);" title="Tell me how">??</a>
		    </div>
		    
		    <div>
		      <input type="hidden" name="region" value="%(region)s"/>
		      <input type="hidden" name="service" value="geocode"/>
		      <input type="text" id="q" name="q" class="input_field" tabindex="1" title="Address or intersection (no businesses or other points of interest)" value="%(q)s"/>
		      <input name="gb"
			     class="input_button"
			     title="Click to look up address"
			     tabindex="3" 
			     type="submit" 
			     value="Go!"/>
		    </div>
		  </form>

		  <!-- Route Form -->
		  <form id="route_form" class="input_form"
			action="." 
			method="get" 
			onsubmit="doFind('route'); return false;"
			style="margin-bottom: 0;">

		    <div class="input_title">Find a Route</div>

		    <div>
		      <small>Enter 'from' &amp; 'to' addresses -OR- pick from map</small>
		      <a href="javascript:void(0);" onclick="setResult(route_address_tip); toggleTips(1);" title="Tell me how">??</a>
		    </div>
		    
		    <table>
		      <tbody>
			<tr>
			  <td>
			    <input type="hidden" name="region" value="%(region)s"/>
			    <input type="hidden" name="service" value="route"/>
			    <input type="text" id="fr" name="fr" class="input_field" tabindex="1" title="From address or intersection (no business names)" value="%(fr)s"/>
			  </td>

			  <td id="swap" rowspan="2">
			    <a href="javascript:void(0);"  
			       title="Swap From and To addresses" 
			       onclick="swapFrAndTo();"
			       ><img src="static/images/swapfrto.gif" alt="swap"/></a>
			  </td>
			</tr>
			
			<tr>
			  <td>
			    <input type="text" id="to" name="to" class="input_field" tabindex="1"  title="To address or intersection (no business names)" value="%(to)s"/>
			  </td>
			</tr>
		      </tbody>
		    </table>

		    <div>
		      <select id="pref" name="pref" class="input_field">
			<option value="default">- Route preference (Portland only) -</option>
			<option value="default">Normal</option>
			<option value="safer">Safer</option>
		      </select>

		      <input name="rb"
			     class="input_button"
			     title="Click to find route"
			     tabindex="3" 
			     type="submit" 
			     value="Go!"/>
		    </div>

		  </form>
		</div>
		<!-- End Input -->


		<!-- Result -->
		<div id="result">
		  %(result)s	      
		</div>
		<!-- End Result -->

		
	      </td>


	      <td id="center_panel">

		<!-- Map Menu -->
		<div id="map_menu">
		  
		  <form id="region_form" class="input_form"
			action="." 
			method="get" 
			onsubmit="return false;">
		    <div>
		      <select id="regions" name="region" 
			      tabindex="2"
			      title="Set the active region and zoom into it"
			      onchange="selectRegion(this.options[this.selectedIndex].value);">
			<option value="">- Select Region -</option>
			<option value="">All Regions</option>
			%(regions_opt_list)s			    
		      </select>
		      <noscript>
			<input class="input_button"
			       title="Click to go to region"
			       tabindex="3" 
			       type="submit" 
			       value="Go!"/>		      
		      </noscript>
		      
		      <a href="javascript:void(0);"
			 title="Find address nearest to red dot at center of map"
			 onclick="setElVToMapLonLat('q'); doFind('geocode');"
			 >Find address at center</a>		
		      &middot;
		      <a href="/"
			 title="Clear everything from the map"
			 onclick="clearMap(); return false;"
			 >Clear map</a>
		      &middot;
		      <a id="bookmark"
			 href=""
			 title="Link you can use to bookmark the current result"
			 >Link to this page</a>
		    </div>
		  </form>
		</div>
		<!-- End Map Menu -->
		

		<!-- Map -->
		<div id="map">
		  <div id="map_msg" style="padding: 5px;">Loading map<blink>...</blink></div>
		  <noscript>
		    <div style="font-style: italic; padding: 5px;">
		      <p>
			To display a map here, JavaScript must be enabled in your browser. 
			If you would like to view the map, please enable JavaScript and 
			<a href="">try again</a>.
		      </p>
		      <p>
			Note that you must have a relatively recent browser for the map to 
			display. We test in <a href="http://www.mozilla.com/">Mozilla Firefox</a> 
			on Linux, Mac OS X, and Windows; Safari on Mac OS X; and Internet Explorer 
			on Windows.
		      </p>
		      <p>
			If you don't have one of the above browsers, you may want to leave JavaScript 
			turned off. On the other hand, if you feel like experimenting, you can
			<a href="mailto:feedback@bycycle.org">let us know</a> if the bicycle Trip Planner does 
			or does not work in other browsers.
		      </p>
		    </div>
		  </noscript>
		</div>
		<!-- End Map -->

		
		<!-- Footer -->
		<div id="footer">
		  &nbsp;&copy; 2004 - 2006 
		  <a href="http://byCycle.org/" 
		     title="byCycle Home Page">byCycle.org</a>
		  &middot;
		  Hosted at 
		  <a href="http://affil.aplus.net/Affiliates/click.jsp?bid=111&amp;aid=1003145">aPlus.net</a> 
		  &middot; 
		  <a href="http://www.bikeportland.org/"
		     >Portland bike news @ BikePortland.org</a>
		</div>
		<!-- End Footer -->	      


	      </td>


	      <td id="right_panel">


		<!-- Google Ads -->
		<div id="google_ads_win">

		  <!-- "Title bar" with close button. -->
		  <div style="border-bottom: 1px solid gray; padding: 5px; text-align: right;">
		    <span style="border: 1px solid gray;">
		      <a href="javascript:void(0);" 
			 onclick="var c = map.getCenter(); setElStyle('right_panel', 'display', 'none'); resizeMap(); map.setCenter(c);"
			 style="padding: 2px; text-decoration: none;"
			 title="Hide Ads"
			 >X</a>
		    </span>
		  </div>

		  <script type="text/javascript">
		    //<![CDATA[
		    google_ad_client = "pub-6971619329897557";
		    google_ad_width = 120;
		    google_ad_height = 600;
		    google_ad_format = "120x600_as";
		    google_ad_type = "text_image";
		    google_ad_channel ="";
		    google_color_border = "A7CC95";
		    google_color_bg = "FFFFFF";
		    google_color_link = "000000";
		    google_color_text = "000000";
		    google_color_url = "4466DD";
		    script("http://pagead2.googlesyndication.com/pagead/show_ads.js");
		    //CDATA]]>
		  </script>
		</div>
		<!-- End Google Ads -->


	      </td>
	    </tr>
	  </tbody>
	</table>

      </div>
      <!-- End Content -->


    </div><!-- End Content Pane --> 


    <input type="hidden" id="http_status" name="http_status" value="%(http_status)s"/>
    <input type="hidden" id="response_text" name="response_text" value='%(response_text)s'/> 

    <!-- Placement down here recommended by crockford.com -->
    <script type="text/javascript" src="static/js/ginit.js"></script>
    <script type="text/javascript" src="static/js/ajax.js"></script>
    <script type="text/javascript" src="static/js/regions.js"></script>
    <script type="text/javascript" src="static/js/gmap.js"></script>
    <script type="text/javascript" src="static/js/ui.js"></script>
    <script type="text/javascript">
      //<![CDATA[
      function afterPageLoad()
      {
        initUI();
	resizeMap();
        if (api_key) {
	  if (mapLoad()) {
           // do nothing for now
	  } else {
	    setIH('map', 'Error loading map.');
	  }
	} else {
	  setIH('map', 'Error loading map: Could not find valid API key for ' + base_url + '.');
        }
	var status = elV('http_status');
	var response_text = unescape(elV('response_text'));
	if (status && response_text != '""') {
	  var req = {status: parseInt(status), responseText: response_text};
	  _callback(req);
	  toggleTips(1);
        }
	resizeMap();
      }
      if(window.addEventListener)
        window.addEventListener('load', afterPageLoad, false);
      else if(document.addEventListener)
        document.addEventListener('load', afterPageLoad, false);
      else if(window.attachEvent)
        window.attachEvent('onload', afterPageLoad);
      //]]>
    </script>

  </body>
</html>
