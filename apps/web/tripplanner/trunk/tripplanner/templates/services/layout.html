## -*- coding: UTF-8 -*-
<%inherit file="../layout.html" />

${next.body()}

<%def name="route_pref()"></%def>

<%def name="controls_nav()">
  <li class="selected">
    <a href="#search-the-map"><em>Search</em></a>
  </li>
  <li>
    <a href="#find-a-route"><em>Trip Planner</em></a>
  </li>
  ${parent.controls_nav()}
</%def>

<%def name="controls()">
  <div id="search-the-map">
    <div id="locations" class="yui-navset">
      <ul class="yui-nav">
        <li class="selected">
          <a href="#search-map"><em>Search</em></a>
        </li>
      </ul>

      <div id="search-map" class="yui-content">
        <form id="query_form" method="get" action="/regions/portlandor/services/find">
          <div>
            <div class="input_label">
              <label for="q">
                Enter address, intersection, or route
              </label>
            </div>

            ${h.text(
              'q', id='q', value='', title='Enter an address or route')}

            <div class="query_submit_button">
              ${h.submit('commit', 'Search', title='Click to search the map')}
            </div>
          </div>
        </form>

        % if c.service == 'geocodes':
          ${next.body()}
          ${self.json()}
        % endif
      </div>
    </div>
  </div>

  <div id="find-a-route">
    <div id="routes" class="yui-navset">
      <ul class="yui-nav">
        <li class="selected">
          <a href="#find-route"><em>Plan Trip</em></a>
        </li>
      </ul>

      <div id="find-route" class="yui-content">
        <form id="route_form" method="get" action="/regions/portlandor/routes/find">
          <div>
            <div class="input_label">
              <label for="s">
                Enter start and end addresses
              </label>
            </div>

            ${h.text(
              's', id='s', value='', title='Enter start address')}
            <br />
            ${h.text(
              'e', id='e', value='', title='Enter end address')}

            ${self.route_pref()}

            <div class="query_submit_button">
              ${h.submit(
                'commit', 'Find Route',
                title='Click to find a route')}
            </div>
          </div>
        </form>

        % if c.service == 'routes':
          ${next.body()}
          ${self.json()}
        % endif
      </div>
    </div>
  </div>

  ${parent.controls()}
</%def>
