<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html id="html" 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:v="urn:schemas-microsoft-com:vml">

  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=iso-8859-1"/>
      <title>byCycle - Bicycle Trip Planner</title>

      <meta name="keywords" 
	content="bicycle, bike, bicycle trip planner, bicycle route finder, bike trip planner, bike route finder, bicycle route, bicycle trip, bike route, bike trip, bicycle routing, bike routing, maps, bicycle maps, bike maps, bicycle advocacy, community, sustainability, portland, oregon, milwaukee, wisconsin"/>

	<meta name="description" 
	  content="byCycle Trip Planner -- A web-based, interactive, bicycle trip planner (route finder) for the Portland, Oregon, Milwaukee, Wisconsin, and, soon, other regions."/>
	  
      <link rel="stylesheet" href="css/base.css" type="text/css"/>
      <!--[if IE]>
        <link rel="stylesheet" href="css/base_ie.css" type="text/css"/>
      <![endif]-->

	<script type="text/javascript">
          <!--
	  function afterPageLoad()
	  {
	    _setElV('gjs', '1');
	    _setElV('rjs', '1');
	    resizeMap();
	    if (local || api_key)
	      {
	        if (mapLoad())
	          {
	            _setElV('gm', '1');
	            _setElV('rm', '1');
	          }
	      }
	    else
	      {
	        el('map').innerHTML =  
	          'Error loading map: Could not find valid API key for ' + 
	          base_url + '.';
	      }
	    var status = _elV('status');
	    var response_text = _elV('response_text');
	    if (status && response_text)
	      {
	        var req = {status: parseInt(status), responseText: response_text}
	        _callback(req);
	      }
	  }

	  if(window.addEventListener)
	    window.addEventListener('load', afterPageLoad, false);
	  else if(document.addEventListener)
	    document.addEventListener('load', afterPageLoad, false);
	  else if(window.attachEvent)
	    window.attachEvent('onload', afterPageLoad);
	  //-->
	</script>

	<script src="js/util.js" type="text/javascript"></script>
	<script src="js/ajax.js" type="text/javascript"></script>
	<script src="js/regions.js" type="text/javascript"></script>
	<script src="js/gmap.js" type="text/javascript"></script>
	<script src="js/ui.js" type="text/javascript"></script>
	<script src="js/ginit.js" type="text/javascript"></script>

	<noscript>
	  <style>
	    body {overflow: auto;}
	  </style>
	</noscript>
  </head>

  <body id="body" onresize="resizeMap();">
    <div id="content_pane">
      <!-- Header -->
      <div id="header" class="page_section">
	<table>
	  <tr>
	    <td>
	      <!-- Logo -->
	      <div id="logo">
		<a href="http://www.bycycle.org/" title="byCycle Home Page">byCycle</a>
		<a href="">Trip Planner</a>
	      </div>
	    </td>

	    <td style="vertical-align: middle;">
	      <div>
		<select id="region" name="region" 
		  tabindex="2"
		  title="Set the active region and zoom into it"
		  onchange="selectRegion(this.options[this.selectedIndex].value);">
		  <option value="">-- Select Region --</option>				
		  <option value="">All Regions</option>				
		  %(regions_opt_list)s			    
		</select>
	      </div>	      
	    </td>
 
	    <td>
	      <!-- Links -->
	      <div id="links">
		<a href="http://www.bycycle.org/tripplanner"
		  title="Get more information about the Trip Planner"
		  >About</a>
		
		&middot;
		
		<a href="http://www.bycycle.org/contact.html" 
		  title="Send us problem reports, comments, questions, and suggestions"
		  >Feedback</a>
		
		&middot;
		
		<a href="help.html"
		  title="How do I work this thing!?"
		  >Help</a>
	      </div>
	    </td>
	  </tr>
	</table>
      </div>

      <div id="status" class="page_section">
	Welcome to the 
	<a href="http://www.bycycle.org/" title="byCycle Home Page">byCycle</a> 
	interactive bicycle trip planner, version 0.3.5 beta
      </div>
      
      <!-- Content -->
      <div id="content" class="page_section">
	<table id="content_table">
	  <!--[if IE]>
	  <colgroup><col width="310"/><col width="*"/></colgroup>
	  <![endif]-->
	  
	  <tr>
	    <td id="left_panel" class="panel">		  

	      <!-- Input -->
	      <div id="input">
		
		<form id="geocode_form" class="input_form"
		  action="." 
		  method="get" 
		  onsubmit="doFind('geocode'); return false;">
		  
		  <div class="input_title">Look Up an Address</div>
		  
		  <div>
		    <input type="text" id="q" name="q" class="input_field" tabindex="1" value="%(q)s"/>
		      <input name="gb"
			class="input_button"
			title="Click to look up address"
			tabindex="3" 
			type="submit" 
			value="Go!"/>
		  </div>
		  <input type="hidden" id="gm" name="m" value=""/>
		    <input type="hidden" id="gjs" name="js" value=""/>		    
		</form>
		
		<form id="route_form" class="input_form"
		  action="." 
		  method="get" 
		  onsubmit="doFind('route'); return false;">		
		  
		  <div class="input_title">Find a Route</div>
		  
		  <div style="margin-bottom: 5px;">
		    <input type id="fr" name="fr" class="input_field" tabindex="1" value=""/>
		      <a href="#Swap_from_and_to_addresses" 
			onclick="return _swapElV('fr', 'to');"
			title="Swap from and to addresses"
			tabindex="90"
			><img src="images/swapfrto.gif" alt="Swap from and to addresses"/></a>
		  </div>
		  
		  <div>
		    <input type id="to" name="to" class="input_field" tabindex="1" value=""/>
		      <input name="rb"
			class="input_button"
			title="Click to find route"
			tabindex="3" 
			type="submit" 
			value="Go!"/>
		  </div>
		  
		  <input type="hidden" id="tmode" name="tmode" value="bike"/>
		    <input type="hidden" id="rm" name="m" value=""/>
		      <input type="hidden" id="rjs" name="js" value=""/>
		</form>
	      </div><!-- Input -->
	      
	      <div id="result">
		%(result)s	      
	      </div>
	      
	    </td><!-- left_panel -->
	    
	    <td id="right_panel" class="panel">
	      <div id="map">
		<noscript>
		  <div>
		    <p style="padding: 5px;">
		      <i>To display a map here, JavaScript must be enabled in your browser. 
		      If you would like to view the map, please enable JavaScript and 
		      <a href="">try again</a>.</i>
		    </p>
		  </div>
		</noscript>
	      </div>
	    </td><!-- right_panel -->
	  </tr>	        
	</table>
      </div><!-- Content -->
    </div><!-- Content Pane --> 

    <input type="hidden" id="status" name="status" value="%(status)s"/>
    <input type="hidden" id="response_text" name="response_text" value="%(response_text)s"/> 
  </body>
</html>
